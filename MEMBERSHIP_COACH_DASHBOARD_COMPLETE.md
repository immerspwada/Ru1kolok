# Membership Registration System - Coach Dashboard Complete тЬЕ

## р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Чр╕│р╣Ар╕кр╕гр╣Зр╕Ир╣Гр╕Щр╕Др╕гр╕▒р╣Йр╕Зр╕Щр╕╡р╣Й

### Phase 6: Coach Dashboard тЬЕ

#### Task 6.1: Application List Component тЬЕ
- тЬЕ р╕кр╕гр╣Йр╕▓р╕З `components/membership/ApplicationList.tsx`
- тЬЕ р╣Бр╕кр╕Фр╕Зр╣Гр╕Ър╕кр╕бр╕▒р╕Др╕гр╣Гр╕Щр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╕Хр╕▓р╕гр╕▓р╕З
- тЬЕ Filter р╕Хр╕▓р╕бр╕кр╕Цр╕▓р╕Щр╕░ (all/pending/approved/rejected)
- тЬЕ Sort р╕Хр╕▓р╕бр╕зр╕▒р╕Щр╕Чр╕╡р╣И (р╣Гр╕лр╕бр╣Ир╕кр╕╕р╕Фр╕Бр╣Ир╕нр╕Щ)
- тЬЕ Status badges р╕Юр╕гр╣Йр╕нр╕бр╕кр╕╡
- тЬЕ Empty state
- тЬЕ Clickable rows

#### Task 6.2: Application Detail Modal тЬЕ
- тЬЕ р╕кр╕гр╣Йр╕▓р╕З `components/membership/ApplicationDetailModal.tsx`
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╣Ир╕зр╕Щр╕Хр╕▒р╕зр╕Ир╕▓р╕Б `personal_info` JSONB
- тЬЕ р╣Бр╕кр╕Фр╕Зр╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Чр╕▒р╣Йр╕З 3 р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕Юр╕гр╣Йр╕нр╕б thumbnails
- тЬЕ р╕Др╕ер╕┤р╕Бр╕Фр╕╣р╣Ар╕нр╕Бр╕кр╕▓р╕гр╣Бр╕Ър╕Ър╣Ар╕Хр╣Зр╕бр╣Гр╕Щр╣Бр╕Чр╣Зр╕Ър╣Гр╕лр╕бр╣И
- тЬЕ р╣Бр╕кр╕Фр╕З Activity Timeline р╕Ир╕▓р╕Б `activity_log` JSONB
- тЬЕ р╕Ыр╕╕р╣Ир╕б "р╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤" р╕Юр╕гр╣Йр╕нр╕б confirmation dialog
- тЬЕ р╕Ыр╕╕р╣Ир╕б "р╣Др╕бр╣Ир╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤" р╕Юр╕гр╣Йр╕нр╕б textarea р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕лр╕Хр╕╕р╕Ьр╕е
- тЬЕ р╣Ар╕гр╕╡р╕вр╕Б `reviewApplication()` action
- тЬЕ р╣Бр╕кр╕Фр╕Зр╣Ар╕Йр╕Юр╕▓р╕░р╣Ар╕бр╕╖р╣Ир╕нр╕кр╕Цр╕▓р╕Щр╕░р╣Ар╕Ыр╣Зр╕Щ pending

#### Task 6.3: Coach Applications Page тЬЕ
- тЬЕ р╕кр╕гр╣Йр╕▓р╕З `app/dashboard/coach/applications/page.tsx`
- тЬЕ р╕Фр╕╢р╕З club_id р╕Вр╕нр╕Зр╣Вр╕Др╣Йр╕Кр╕Ир╕▓р╕Б coaches table
- тЬЕ Fetch applications р╕Фр╣Йр╕зр╕в `getClubApplications(clubId)`
- тЬЕ р╣Бр╕кр╕Фр╕З stats cards: total, pending, approved, rejected
- тЬЕ Render ApplicationList component
- тЬЕ Handle approve/reject actions
- тЬЕ Toast notifications
- тЬЕ Auto-refresh р╕лр╕ер╕▒р╕Зр╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г

### UI Components р╕Чр╕╡р╣Ир╣Ар╕Юр╕┤р╣Ир╕б тЬЕ
- тЬЕ `components/ui/tabs.tsx` - Tabs component
- тЬЕ `components/ui/separator.tsx` - Separator component
- тЬЕ `components/ui/alert-dialog.tsx` - Alert Dialog component

### Dependencies р╕Чр╕╡р╣Ир╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З тЬЕ
- тЬЕ `@radix-ui/react-tabs`
- тЬЕ `@radix-ui/react-alert-dialog`
- тЬЕ `@radix-ui/react-separator`

## р╕гр╕░р╕Ър╕Ър╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╣Бр╕ер╣Йр╕з

### р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Щр╕▒р╕Бр╕Бр╕╡р╕мр╕▓ (Athletes):
1. тЬЕ р╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Бр╕Ьр╣Ир╕▓р╕Щ `/register-membership`
   - р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╣Ир╕зр╕Щр╕Хр╕▒р╕з
   - р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Ар╕нр╕Бр╕кр╕▓р╕г 3 р╕Ыр╕гр╕░р╣Ар╕ар╕Ч
   - р╣Ар╕ер╕╖р╕нр╕Бр╕Бр╕╡р╕мр╕▓
2. тЬЕ р╕Фр╕╣р╕кр╕Цр╕▓р╕Щр╕░р╣Гр╕Ър╕кр╕бр╕▒р╕Др╕гр╕Чр╕╡р╣И `/dashboard/athlete/applications`
   - р╣Бр╕вр╕Бр╕Хр╕▓р╕бр╕кр╕Цр╕▓р╕Щр╕░ (tabs)
   - р╕Фр╕╣р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╣Гр╕Ър╕кр╕бр╕▒р╕Др╕г
   - р╕Фр╕╣р╣Ар╕лр╕Хр╕╕р╕Ьр╕ер╕Цр╣Йр╕▓р╕Цр╕╣р╕Бр╕Ыр╕Пр╕┤р╣Ар╕кр╕Ш

### р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Вр╕Др╣Йр╕К (Coaches):
1. тЬЕ р╕Фр╕╣р╣Гр╕Ър╕кр╕бр╕▒р╕Др╕гр╕Чр╕╡р╣И `/dashboard/coach/applications`
   - р╣Ар╕лр╣Зр╕Щр╣Ар╕Йр╕Юр╕▓р╕░р╣Гр╕Ър╕кр╕бр╕▒р╕Др╕гр╕Вр╕нр╕Зр╕Бр╕╡р╕мр╕▓р╕Хр╕▒р╕зр╣Ар╕нр╕З
   - Filter р╕Хр╕▓р╕бр╕кр╕Цр╕▓р╕Щр╕░
   - р╕Фр╕╣р╕кр╕Цр╕┤р╕Хр╕┤
2. тЬЕ р╕Юр╕┤р╕Ир╕▓р╕гр╕Ур╕▓р╣Гр╕Ър╕кр╕бр╕▒р╕Др╕г
   - р╕Фр╕╣р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕кр╕бр╕▒р╕Др╕гр╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ
   - р╕Фр╕╣р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
   - р╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤ тЖТ р╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Ыр╕гр╣Др╕Яр╕ер╣Мр╕Щр╕▒р╕Бр╕Бр╕╡р╕мр╕▓р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
   - р╕Ыр╕Пр╕┤р╣Ар╕кр╕Ш тЖТ р╕гр╕░р╕Ър╕╕р╣Ар╕лр╕Хр╕╕р╕Ьр╕е

## Flow р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ

```
1. р╕Щр╕▒р╕Бр╕Бр╕╡р╕мр╕▓р╕кр╕бр╕▒р╕Др╕г
   тЖУ
2. р╣Гр╕Ър╕кр╕бр╕▒р╕Др╕гр╕кр╕Цр╕▓р╕Щр╕░ "pending"
   тЖУ
3. р╣Вр╕Др╣Йр╕Кр╣Ар╕лр╣Зр╕Щр╣Гр╕Ър╕кр╕бр╕▒р╕Др╕гр╣Гр╕Щ dashboard
   тЖУ
4. р╣Вр╕Др╣Йр╕Кр╕Юр╕┤р╕Ир╕▓р╕гр╕Ур╕▓:
   
   [р╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤]                    [р╕Ыр╕Пр╕┤р╣Ар╕кр╕Ш]
      тЖУ                            тЖУ
   р╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Ыр╕гр╣Др╕Яр╕ер╣Мр╕Щр╕▒р╕Бр╕Бр╕╡р╕мр╕▓          р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╣Ар╕лр╕Хр╕╕р╕Ьр╕е
      тЖУ                            тЖУ
   р╕кр╕Цр╕▓р╕Щр╕░ "approved"            р╕кр╕Цр╕▓р╕Щр╕░ "rejected"
      тЖУ                            тЖУ
   р╕Щр╕▒р╕Бр╕Бр╕╡р╕мр╕▓р╣Ар╕Вр╣Йр╕▓р╕гр╣Ир╕зр╕бр╣Др╕Фр╣Й           р╕Щр╕▒р╕Бр╕Бр╕╡р╕мр╕▓р╣Ар╕лр╣Зр╕Щр╣Ар╕лр╕Хр╕╕р╕Ьр╕е
```

## Database Operations

### р╣Ар╕бр╕╖р╣Ир╕нр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤:
1. тЬЕ р╣Ар╕гр╕╡р╕вр╕Б `update_application_status()` function
2. тЬЕ р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕кр╕Цр╕▓р╕Щр╕░р╣Ар╕Ыр╣Зр╕Щ "approved"
3. тЬЕ р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б review_info (р╕Ьр╕╣р╣Йр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤, р╕зр╕▒р╕Щр╕Чр╕╡р╣И)
4. тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б activity log
5. тЬЕ р╕кр╕гр╣Йр╕▓р╕З record р╣Гр╕Щ `athletes` table
6. тЬЕ Update application.profile_id

### р╣Ар╕бр╕╖р╣Ир╕нр╕Ыр╕Пр╕┤р╣Ар╕кр╕Ш:
1. тЬЕ р╣Ар╕гр╕╡р╕вр╕Б `update_application_status()` function
2. тЬЕ р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕кр╕Цр╕▓р╕Щр╕░р╣Ар╕Ыр╣Зр╕Щ "rejected"
3. тЬЕ р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б review_info р╕Юр╕гр╣Йр╕нр╕бр╣Ар╕лр╕Хр╕╕р╕Ьр╕е
4. тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б activity log

## Security (RLS Policies)

тЬЕ **Athletes:**
- INSERT own applications
- SELECT own applications

тЬЕ **Coaches:**
- SELECT applications for their club
- UPDATE applications for their club

тЬЕ **Admins:**
- SELECT all applications
- UPDATE all applications

## Routes р╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Др╕Фр╣Й

### Athletes:
- `/register-membership` - р╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Б
- `/dashboard/athlete/applications` - р╕Фр╕╣р╕кр╕Цр╕▓р╕Щр╕░р╣Гр╕Ър╕кр╕бр╕▒р╕Др╕г

### Coaches:
- `/dashboard/coach/applications` - р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Гр╕Ър╕кр╕бр╕▒р╕Др╕г

### Admins (р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Чр╕│):
- `/dashboard/admin/applications` - р╕Фр╕╣р╣Гр╕Ър╕кр╕бр╕▒р╕Др╕гр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф

## р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Цр╕▒р╕Фр╣Др╕Ы (Optional)

р╕Хр╕▓р╕б spec р╕вр╕▒р╕Зр╕бр╕╡р╕Зр╕▓р╕Щр╕Чр╕╡р╣Ир╣Ар╕лр╕ер╕╖р╕н:

### Phase 8: Admin Dashboard (Optional)
- [ ] Task 8.1: Admin applications dashboard
  - р╕Фр╕╣р╣Гр╕Ър╕кр╕бр╕▒р╕Др╕гр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Вр╣Йр╕▓р╕бр╕Бр╕╡р╕мр╕▓
  - Filter р╕Хр╕▓р╕бр╕Бр╕╡р╕мр╕▓, р╕кр╕Цр╕▓р╕Щр╕░, р╕зр╕▒р╕Щр╕Чр╕╡р╣И
  - Override р╕Бр╕▓р╕гр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤

### Phase 9: Testing (Optional)
- [ ] Task 9.1-9.3: Unit tests, integration tests, property tests

### Phase 10: Documentation (Optional)
- [ ] Task 10.1-10.3: User docs, technical docs, UI/UX polish

## р╕кр╕гр╕╕р╕Ы

ЁЯОЙ **р╕гр╕░р╕Ър╕Ър╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕Ир╕гр╕┤р╕Зр╣Бр╕ер╣Йр╕з!**

**Core Features р╕Чр╕╡р╣Ир╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Й:**
- тЬЕ р╕Щр╕▒р╕Бр╕Бр╕╡р╕мр╕▓р╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Бр╣Др╕Фр╣Й
- тЬЕ р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Ар╕нр╕Бр╕кр╕▓р╕гр╣Др╕Фр╣Й
- тЬЕ р╣Вр╕Др╣Йр╕Кр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤/р╕Ыр╕Пр╕┤р╣Ар╕кр╕Шр╣Др╕Фр╣Й
- тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Ыр╕гр╣Др╕Яр╕ер╣Мр╕Щр╕▒р╕Бр╕Бр╕╡р╕мр╕▓р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Ар╕бр╕╖р╣Ир╕нр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤
- тЬЕ Activity log р╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ
- тЬЕ RLS policies р╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в
- тЬЕ Toast notifications
- тЬЕ Responsive design

**р╕гр╕░р╕Ър╕Ър╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Ир╕гр╕┤р╕Зр╣Бр╕ер╣Йр╕з!** ЁЯЪА
